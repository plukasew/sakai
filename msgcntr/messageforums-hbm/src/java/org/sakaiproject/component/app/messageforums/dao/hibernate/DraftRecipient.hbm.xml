<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="org.sakaiproject.component.app.messageforums.dao.hibernate">

  <class name="org.sakaiproject.component.app.messageforums.dao.hibernate.DraftRecipientImpl"
    table="MFR_DRAFT_RECIPIENT_T">

    <id name="id" type="long" unsaved-value="0" >
      <column name="ID" not-null="true" length="19" />
      <generator class="native">
        <param name="sequence">MFR_DRAFT_RECIPIENT_S</param>
      </generator>
    </id>

    <property name="type">
      <column name="TYPE" not-null="true" />
    </property>

    <property name="recipientId">
      <column name="RECIPIENT_ID" not-null="true" />
    </property>

    <property name="draftId">
      <column name="DRAFT_MSG_ID" not-null="true" index="MFR_DRAFT_REC_MSG_ID_I"/>
    </property>

    <property name="bcc">
      <column name="BCC" not-null="true" default="0" />
    </property>

  </class>

  <query name="findDraftRecipientsByMessageId">
        <![CDATA[from org.sakaiproject.component.app.messageforums.dao.hibernate.DraftRecipientImpl as dr
             where dr.draftId = :id
        ]]>
  </query>

</hibernate-mapping>
